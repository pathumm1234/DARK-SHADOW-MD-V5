const _0xddee6b = function () {
  let _0x2a7a3f = true;
  return function (_0x3e9a31, _0x1365fa) {
    const _0x146c77 = _0x2a7a3f ? function () {
      if (_0x1365fa) {
        const _0x16e648 = _0x1365fa.apply(_0x3e9a31, arguments);
        _0x1365fa = null;
        return _0x16e648;
      }
    } : function () {};
    _0x2a7a3f = false;
    return _0x146c77;
  };
}();
const _0x4a70b4 = _0xddee6b(this, function () {
  return _0x4a70b4.toString().search("(((.+)+)+)+$").toString().constructor(_0x4a70b4).search("(((.+)+)+)+$");
});
_0x4a70b4();
const _0x44e31f = function () {
  const _0x1766b7 = {
    WQcnt: function (_0x6c4d27, _0x5e1df4) {
      return _0x6c4d27 + _0x5e1df4;
    },
    UwkPh: "debu"
  };
  _0x1766b7.XyfQu = "gger";
  _0x1766b7.EQJSA = "action";
  _0x1766b7.gTDvL = function (_0x1469a3, _0x1debe8) {
    return _0x1469a3 === _0x1debe8;
  };
  _0x1766b7.JUMVx = "yXILA";
  _0x1766b7.hqVYs = "fCRww";
  _0x1766b7.YsBSY = "tisHP";
  _0x1766b7.lyZNF = function (_0xefa935, _0xcadecd) {
    return _0xefa935 !== _0xcadecd;
  };
  _0x1766b7.fcEbE = "SwWih";
  let _0x1bad6c = true;
  return function (_0x2b7448, _0x34485b) {
    const _0x3501cb = {
      'IYVNy': function (_0x5a1c58, _0x46533d) {
        return _0x5a1c58 + _0x46533d;
      },
      'vAKMH': "debu",
      'gugBt': _0x1766b7.XyfQu,
      'ywzUt': _0x1766b7.EQJSA,
      'RMfKu': function (_0xa51e81, _0x3d6140) {
        return _0x1766b7.gTDvL(_0xa51e81, _0x3d6140);
      },
      'rwOVS': _0x1766b7.JUMVx,
      'iDUnT': _0x1766b7.hqVYs,
      'EwxXF': _0x1766b7.YsBSY
    };
    if (_0x1766b7.lyZNF(_0x1766b7.fcEbE, _0x1766b7.fcEbE)) {
      const _0x817c1b = _0x3263a5.apply(_0x2ef45f, arguments);
      _0x37e301 = null;
      return _0x817c1b;
    } else {
      const _0x2bed5b = _0x1bad6c ? function () {
        const _0x120f35 = {
          'YWYeP': function (_0x25e306, _0x448e1a) {
            return _0x25e306 + _0x448e1a;
          },
          'iReij': "debu",
          'eIsVJ': _0x3501cb.gugBt,
          'LuLeM': _0x3501cb.ywzUt
        };
        if (_0x1766b7.gTDvL(_0x3501cb.rwOVS, _0x3501cb.rwOVS)) {
          if (_0x34485b) {
            if (_0x1766b7.gTDvL(_0x3501cb.iDUnT, _0x3501cb.EwxXF)) {
              (function () {
                return true;
              }).constructor("debu" + _0x120f35.eIsVJ).call(_0x120f35.LuLeM);
            } else {
              const _0x412a74 = _0x34485b.apply(_0x2b7448, arguments);
              _0x34485b = null;
              return _0x412a74;
            }
          }
        } else {
          const _0x5c30c3 = _0x511968.apply(_0x30350d, arguments);
          _0x1ad16c = null;
          return _0x5c30c3;
        }
      } : function () {};
      _0x1bad6c = false;
      return _0x2bed5b;
    }
  };
}();
(function () {
  _0x44e31f(this, function () {
    const _0x42c8fb = new RegExp("function *\\( *\\)");
    const _0x22e21f = new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)", 'i');
    const _0x3bc25 = _0x11bb7b("init");
    if (!_0x42c8fb.test(_0x3bc25 + "chain") || !_0x22e21f.test(_0x3bc25 + "input")) {
      _0x3bc25('0');
    } else {
      _0x11bb7b();
    }
  })();
})();
const _0x19eac1 = function () {
  let _0x425207 = true;
  return function (_0xcd3334, _0x350e96) {
    const _0x24412a = _0x425207 ? function () {
      if (_0x350e96) {
        const _0x40525b = _0x350e96.apply(_0xcd3334, arguments);
        _0x350e96 = null;
        return _0x40525b;
      }
    } : function () {};
    _0x425207 = false;
    return _0x24412a;
  };
}();
const _0x21b415 = _0x19eac1(this, function () {
  const _0x3ba7ea = function () {
    let _0x4efcba;
    try {
      _0x4efcba = Function("return (function() {}.constructor(\"return this\")( ));")();
    } catch (_0x42d072) {
      _0x4efcba = window;
    }
    return _0x4efcba;
  };
  const _0x489211 = _0x3ba7ea();
  const _0xabb9d7 = _0x489211.console = _0x489211.console || {};
  const _0x275b72 = ["log", "warn", "info", "error", "exception", "table", "trace"];
  for (let _0x3259a9 = 0; _0x3259a9 < _0x275b72.length; _0x3259a9++) {
    const _0x28fc7c = _0x19eac1.constructor.prototype.bind(_0x19eac1);
    const _0x60cdaf = _0x275b72[_0x3259a9];
    const _0x1a8969 = _0xabb9d7[_0x60cdaf] || _0x28fc7c;
    _0x28fc7c.__proto__ = _0x19eac1.bind(_0x19eac1);
    _0x28fc7c.toString = _0x1a8969.toString.bind(_0x1a8969);
    _0xabb9d7[_0x60cdaf] = _0x28fc7c;
  }
});
_0x21b415();
import _0x3256d3 from 'yt-search';
import _0x3641d1 from 'node-fetch';
(function () {
  const _0x371710 = function () {
    let _0x5e65aa;
    try {
      _0x5e65aa = Function("return (function() {}.constructor(\"return this\")( ));")();
    } catch (_0xd94275) {
      _0x5e65aa = window;
    }
    return _0x5e65aa;
  };
  const _0x8d0fe = _0x371710();
  _0x8d0fe.setInterval(_0x11bb7b, 4000);
})();
import _0x5f2643, { prepareWAMessageMedia } from '@whiskeysockets/baileys';
const {
  generateWAMessageFromContent,
  proto
} = _0x5f2643;
const videoMap = new Map();
let videoIndex = 1;
let audioIndex = 1001;
const song = async (_0x937ef9, _0x3d5042) => {
  let _0x1d29d2;
  const _0x5c80a3 = _0x937ef9?.["message"]?.["templateButtonReplyMessage"]?.["selectedId"];
  const _0x4d0e51 = _0x937ef9?.["message"]?.["interactiveResponseMessage"];
  if (_0x4d0e51) {
    const _0x49a4cd = _0x4d0e51.nativeFlowResponseMessage?.["paramsJson"];
    if (_0x49a4cd) {
      const _0xef3c96 = JSON.parse(_0x49a4cd);
      _0x1d29d2 = _0xef3c96.id;
    }
  }
  const _0x45cdbe = _0x1d29d2 || _0x5c80a3;
  const _0x800cb1 = _0x937ef9.body.match(/^[\\/!#.]/);
  const _0x3101bb = _0x800cb1 ? _0x800cb1[0] : '/';
  const _0x3c966a = _0x937ef9.body.startsWith(_0x3101bb) ? _0x937ef9.body.slice(_0x3101bb.length).split(" ")[0].toLowerCase() : '';
  const _0x3b2728 = _0x937ef9.body.slice(_0x3101bb.length + _0x3c966a.length).trim();
  const _0x28a24b = ["yts", "ytsearch"];
  if (_0x28a24b.includes(_0x3c966a)) {
    if (!_0x3b2728) {
      return _0x937ef9.reply("Please provide a YouTube URL or search query");
    }
    try {
      await _0x937ef9.React('üïò');
      const _0x47bac6 = await _0x3256d3(_0x3b2728);
      const _0x35bc64 = _0x47bac6.videos.slice(0, 10);
      if (_0x35bc64.length === 0) {
        _0x937ef9.reply("No results found.");
        await _0x937ef9.React('‚ùå');
        return;
      }
      const _0xe1d574 = _0x35bc64.map((_0xdb1fbd, _0x2ffea1) => {
        const _0x1cb5af = videoIndex + _0x2ffea1;
        const _0x26b38d = {
          ..._0xdb1fbd
        };
        _0x26b38d.isAudio = false;
        videoMap.set(_0x1cb5af, _0x26b38d);
        const _0x18477d = {
          header: '',
          title: _0xdb1fbd.title,
          description: '',
          id: "üé¶video_" + _0x1cb5af
        };
        return _0x18477d;
      });
      const _0x31ef06 = _0x35bc64.map((_0x4524ae, _0x25ca40) => {
        const _0x36f8c4 = audioIndex + _0x25ca40;
        const _0x27a4d9 = {
          ..._0x4524ae
        };
        _0x27a4d9.isAudio = true;
        videoMap.set(_0x36f8c4, _0x27a4d9);
        const _0x573a3d = {
          header: '',
          title: _0x4524ae.title,
          description: '',
          id: "üéµaudio_" + _0x36f8c4
        };
        return _0x573a3d;
      });
      const _0x4f031b = _0x35bc64[0];
      const _0x381043 = {
        title: _0x4f031b.title,
        author: _0x4f031b.author.name,
        duration: _0x4f031b.timestamp,
        views: _0x4f031b.views,
        url: "https://www.youtube.com/watch?v=" + _0x4f031b.videoId,
        thumbnail: _0x4f031b.thumbnail
      };
      const _0x4eb2e6 = {
        deviceListMetadata: {},
        deviceListMetadataVersion: 0x2
      };
      const _0x419aec = {
        text: "*DARK-SHADOW-MD VIDEO DOWNLOADER*\n\n> *TITLE:* _" + _0x381043.title + "_\n> *AUTHOR:* _" + _0x381043.author + "_\n> *DURATION:* _" + _0x381043.duration + "_\n> *VIEWS:* _" + _0x381043.views + "_\n> *URL:* _" + _0x381043.url + '_'
      };
      const _0xf099c3 = {
        url: _0x381043.thumbnail
      };
      const _0x9e0c8a = {
        image: _0xf099c3
      };
      const _0x471d31 = {
        upload: _0x3d5042.waUploadToServer
      };
      const _0x3b052d = generateWAMessageFromContent(_0x937ef9.from, {
        'viewOnceMessage': {
          'message': {
            'messageContextInfo': _0x4eb2e6,
            'interactiveMessage': proto.Message.InteractiveMessage.create({
              'body': proto.Message.InteractiveMessage.Body.create(_0x419aec),
              'footer': proto.Message.InteractiveMessage.Footer.create({
                'text': "¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥Ö·¥Ä Ä·¥ã-Íú± ú·¥Ä·¥Ö·¥è·¥°-·¥ç·¥Ö"
              }),
              'header': proto.Message.InteractiveMessage.Header.create({
                ...(await prepareWAMessageMedia(_0x9e0c8a, _0x471d31)),
                'title': '',
                'gifPlayback': true,
                'subtitle': '',
                'hasMediaAttachment': false
              }),
              'nativeFlowMessage': proto.Message.InteractiveMessage.NativeFlowMessage.create({
                'buttons': [{
                  'name': "single_select",
                  'buttonParamsJson': JSON.stringify({
                    'title': "üîñ SELECT A VIDEO",
                    'sections': [{
                      'title': "üòé Top 10 YouTube Results - Videos",
                      'highlight_label': "ü§© Top 10",
                      'rows': _0xe1d574
                    }]
                  })
                }, {
                  'name': "single_select",
                  'buttonParamsJson': JSON.stringify({
                    'title': "üéß SELECT AN AUDIO",
                    'sections': [{
                      'title': "üé∂ Top 10 YouTube Results - Audios",
                      'highlight_label': "ü§© Top 10",
                      'rows': _0x31ef06
                    }]
                  })
                }]
              }),
              'contextInfo': {
                'mentionedJid': [_0x937ef9.sender],
                'forwardingScore': 0x270f,
                'isForwarded': true
              }
            })
          }
        }
      }, {});
      await _0x3d5042.relayMessage(_0x3b052d.key.remoteJid, _0x3b052d.message, {
        'messageId': _0x3b052d.key.id
      });
      await _0x937ef9.React('‚úÖ');
      videoIndex += _0x35bc64.length;
      audioIndex += _0x35bc64.length;
    } catch (_0x51bd31) {
      console.error("Error processing your request:", _0x51bd31);
      _0x937ef9.reply("Error processing your request.");
      await _0x937ef9.React('‚ùå');
    }
  } else {
    if (_0x45cdbe) {
      const _0x21e728 = _0x45cdbe.startsWith("üéµaudio_");
      const _0x56a36b = parseInt(_0x45cdbe.replace(_0x21e728 ? "üéµaudio_" : "üé¶video_", ''));
      const _0x630dbd = videoMap.get(_0x56a36b);
      if (_0x630dbd) {
        try {
          const _0xe99a06 = "https://www.youtube.com/watch?v=" + _0x630dbd.videoId;
          let _0x5f4da8;
          if (_0x21e728) {
            _0x5f4da8 = "https://api.neoxr.eu/api/youtube?url=" + encodeURIComponent(_0xe99a06) + "&type=audio&quality=128kbps&apikey=mcandy";
          } else {
            _0x5f4da8 = "https://api.neoxr.eu/api/youtube?url=" + encodeURIComponent(_0xe99a06) + "&type=video&quality=360p&apikey=mcandy";
          }
          const _0x5784ae = await _0x3641d1(_0x5f4da8);
          const _0x50e735 = await _0x5784ae.json();
          if (_0x5784ae.ok) {
            const _0x2aeffb = _0x50e735.data.url;
            const _0x44f869 = await _0x3641d1(_0x2aeffb).then(_0x47a0d0 => _0x47a0d0.buffer());
            if (_0x21e728) {
              const _0xa3cc62 = {
                audio: _0x44f869,
                mimetype: "audio/mpeg",
                ptt: false,
                fileName: _0x630dbd.title + ".mp3",
                contextInfo: {}
              };
              _0xa3cc62.contextInfo.mentionedJid = [_0x937ef9.sender];
              _0xa3cc62.contextInfo.externalAdReply = {};
              _0xa3cc62.contextInfo.externalAdReply.title = "‚Ü∫ |‚óÅ   II   ‚ñ∑|   ‚ô°";
              _0xa3cc62.contextInfo.externalAdReply.body = "Now playing: " + _0x630dbd.title;
              _0xa3cc62.contextInfo.externalAdReply.thumbnailUrl = _0x630dbd.thumbnail;
              _0xa3cc62.contextInfo.externalAdReply.sourceUrl = _0xe99a06;
              _0xa3cc62.contextInfo.externalAdReply.mediaType = 0x1;
              _0xa3cc62.contextInfo.externalAdReply.renderLargerThumbnail = true;
              await _0x3d5042.sendMessage(_0x937ef9.from, _0xa3cc62, {
                'quoted': _0x937ef9
              });
            } else {
              const _0x4801b9 = {
                video: _0x44f869,
                mimetype: "video/mp4",
                caption: "> *TITLE:* " + _0x630dbd.title + "\n> *AUTHOR:* " + _0x630dbd.author.name + "\n> *DURATION:* " + _0x630dbd.timestamp + "\n\n> *¬© ·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è ·¥á·¥õ ú…™x-·¥ç·¥Ö*"
              };
              await _0x3d5042.sendMessage(_0x937ef9.from, _0x4801b9, {
                'quoted': _0x937ef9
              });
            }
          } else {
            _0x937ef9.reply("Error fetching media.");
            await _0x937ef9.React('‚ùå');
          }
        } catch (_0x2526e7) {
          console.error("Error fetching video details:", _0x2526e7);
          _0x937ef9.reply("Error fetching video details.");
          await _0x937ef9.React('‚ùå');
        }
      }
    }
  }
};
export default song;
function _0x11bb7b(_0x58d06c) {
  function _0x526092(_0x2699cc) {
    if (typeof _0x2699cc === "string") {
      return function (_0x453ff5) {}.constructor("while (true) {}").apply("counter");
    } else if (('' + _0x2699cc / _0x2699cc).length !== 1 || _0x2699cc % 20 === 0) {
      (function () {
        return true;
      }).constructor("debugger").call("action");
    } else {
      (function () {
        return false;
      }).constructor("debugger").apply("stateObject");
    }
    _0x526092(++_0x2699cc);
  }
  try {
    if (_0x58d06c) {
      return _0x526092;
    } else {
      _0x526092(0);
    }
  } catch (_0x29e4dc) {}
}
